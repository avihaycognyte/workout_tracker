{% extends "base.html" %}

{% block content %}
<h2>Workout Plan</h2>

<!-- Form to add exercises -->
<form id="add-exercise-form" action="/add_exercise" method="post" >
    <div class="mb-3">
        <label for="routine" class="form-label">Routine</label>
        <select class="form-select" id="routine" name="routine">
            <option value="A1">A1</option>
            <option value="A2">A2</option>
            <option value="B1">B1</option>
            <option value="B2">B2</option>
            <option value="Push">Push</option>
            <option value="Pull">Pull</option>
            <option value="Legs">Legs</option>
            <option value="Full Body 1">Full Body 1</option>
            <option value="Full Body 2">Full Body 2</option>
            <option value="Custom">Custom</option>
        </select>
    </div>
    <div class="mb-3">
        <label for="exercise" class="form-label">Exercise</label>
        <select class="form-select" id="exercise" name="exercise">
            {% for exercise in exercises %}
            <option value="{{ exercise }}">{{ exercise }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="mb-3">
        <label for="sets" class="form-label">Sets</label>
        <input type="number" class="form-control" id="sets" name="sets" min="1" value=1>
    </div>
    <div class="mb-3">
        <label for="min_rep_range" class="form-label">Min Rep Range</label>
        <input type="number" class="form-control" id="min_rep_range" name="min_rep_range" value=3>
    </div>
    <div class="mb-3">
        <label for="max_rep_range" class="form-label">Max Rep Range</label>
        <input type="number" class="form-control" id="max_rep_range" name="max_rep_range" value=5>
    </div>
    <div class="mb-3">
        <label for="rir" class="form-label">RIR</label>
        <input type="number" class="form-control" id="rir" name="rir" min="0" max="10" value="2">
    </div>
    <div class="mb-3">
        <label for="weight" class="form-label">Weight (Kg)</label>
        <input type="number" class="form-control" id="weight" name="weight" value=100.0>
    </div>
    <button
            type="submit"
            class="btn btn-primary">Add Exercise</button>
</form>

<!-- Workout plan table -->
<h3>Your Workout Plan</h3>
<table class="table table-striped">
    <thead>
        <tr>
            <th>#</th>
            <th>Routine</th>
            <th>Exercise</th>
            <th>Sets</th>
            <th>Min Rep Range</th>
            <th>Max Rep Range</th>
            <th>RIR</th>
            <th>Weight</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody id="workout-plan-table">
        {% for i, selection in enumerate(user_selection) %}
        <tr>
            <td>{{ i + 1 }}</td>
            <td>{{ selection[0] }}</td>
            <td>{{ selection[1] }}</td>
            <td>{{ selection[2] }}</td>
            <td>{{ selection[3] }}</td>
            <td>{{ selection[4] }}</td>
            <td>{{ selection[5] }}</td>
            <td>{{ selection[6] }}</td>
            <td>
                <button class="btn btn-danger btn-sm remove-exercise" data-index="{{ i }}">Remove</button>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
